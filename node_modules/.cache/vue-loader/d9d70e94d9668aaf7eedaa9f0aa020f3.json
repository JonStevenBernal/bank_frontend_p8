{"remainingRequest":"/home/casierrav/P8_Bank_Project/frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/casierrav/P8_Bank_Project/frontend/src/components/Account.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/casierrav/P8_Bank_Project/frontend/src/components/Account.vue","mtime":1634776200817},{"path":"/home/casierrav/P8_Bank_Project/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/casierrav/P8_Bank_Project/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/casierrav/P8_Bank_Project/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/casierrav/P8_Bank_Project/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICBpbXBvcnQgYXhpb3MgICAgICBmcm9tICdheGlvcyc7CiAgICBpbXBvcnQgand0X2RlY29kZSBmcm9tICdqd3QtZGVjb2RlJzsKCiAgICBleHBvcnQgZGVmYXVsdHsKICAgICAgICBuYW1lOiAiQWNjb3VudCIsCgogICAgICAgIGRhdGE6IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBsb2FkZWQgIDogZmFsc2UsCiAgICAgICAgICAgICAgICBuYW1lICAgIDogIiIsCiAgICAgICAgICAgICAgICBlbWFpbCAgIDogIiIsCiAgICAgICAgICAgICAgICBiYWxhbmNlIDogMAogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgbWV0aG9kczp7CiAgICAgICAgICAgIGdldERhdGE6IGFzeW5jIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICBpZihsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW5SZWZyZXNoIikgPT09IG51bGwgfHwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuQWNjZXNzIikgPT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCJsb2dPdXQiKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy52ZXJpZnlUb2tlbigpOwogICAgICAgICAgICAgICAgbGV0IHRva2VuICA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbkFjY2VzcyIpOwogICAgICAgICAgICAgICAgbGV0IHVzZXJJZCA9IGp3dF9kZWNvZGUodG9rZW4pLnVzZXJfaWQudG9TdHJpbmcoKTsKCiAgICAgICAgICAgICAgICBheGlvcy5nZXQoCiAgICAgICAgICAgICAgICAgICAgYGh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC91c2VyLyR7dXNlcklkfS9gLAogICAgICAgICAgICAgICAgICAgIHtoZWFkZXJzOiB7J0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW59YH19CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZWQgID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB0aGlzLm5hbWUgICAgPSByZXN1bHQuZGF0YS5uYW1lOwogICAgICAgICAgICAgICAgICAgIHRoaXMuZW1haWwgICA9IHJlc3VsdC5kYXRhLmVtYWlsOwogICAgICAgICAgICAgICAgICAgIHRoaXMuYmFsYW5jZSA9IHJlc3VsdC5kYXRhLmFjY291bnQuYmFsYW5jZTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgibG9nT3V0Iik7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9LAoKICAgICAgICAgICAgdmVyaWZ5VG9rZW46IGFzeW5jIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgKICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9yZWZyZXNoLycsCiAgICAgICAgICAgICAgICAgICAgICAgIHtyZWZyZXNoOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW5SZWZyZXNoIil9LAogICAgICAgICAgICAgICAgICAgICAgICB7aGVhZGVyczp7fX0KICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidG9rZW5BY2Nlc3MiLCByZXN1bHQuZGF0YS5hY2Nlc3MpOwogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCJsb2dPdXQiKTsKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgY3JlYXRlZDogYXN5bmMgZnVuY3Rpb24oKXsKICAgICAgICAgICAgY29uc29sZS5sb2coImluIik7CiAgICAgICAgICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgICAgIH0KICAgIH0K"},{"version":3,"sources":["/home/casierrav/P8_Bank_Project/frontend/src/components/Account.vue"],"names":[],"mappings":";IAaI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;IAEnC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACV,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;QAEf,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACZ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;gBACH,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBACf,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC;gBACZ,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;gBACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;YACd;QACJ,CAAC;;QAED,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE;oBAC9F,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACV;;gBAEA,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACxB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAChD,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;gBAEjD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACvC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAClD;gBACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;oBACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;oBACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC/B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAChC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC9C,CAAC;gBACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;oBACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACxB,CAAC;YACL,CAAC;;YAED,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACzB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;wBACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;wBAChC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;wBAC/C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACf;oBACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;wBACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC3D,CAAC;oBACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;wBACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACxB,CAAC;YACT;QACJ,CAAC;;QAED,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAClB;IACJ","file":"/home/casierrav/P8_Bank_Project/frontend/src/components/Account.vue","sourceRoot":"","sourcesContent":["<template>\n    <div>\n        <div class=\"information\" v-if=\"loaded\">\n            <h1>Informaci√≥n de productos</h1>\n            <h2>Nombre: <span>{{ name }}</span></h2>\n            <h2>Email:  <span>{{ email }}</span></h2>\n            <h2>Saldo:  <span>{{ balance }}</span></h2>\n        </div>\n    </div>\n</template>\n\n\n<script>\n    import axios      from 'axios';\n    import jwt_decode from 'jwt-decode';\n\n    export default{\n        name: \"Account\",\n\n        data: function(){\n            return {\n                loaded  : false,\n                name    : \"\",\n                email   : \"\",\n                balance : 0\n            }\n        },\n\n        methods:{\n            getData: async function(){\n                if(localStorage.getItem(\"tokenRefresh\") === null || localStorage.getItem(\"tokenAccess\") === null) {\n                    this.$emit(\"logOut\");\n                    return;\n                }\n\n                await this.verifyToken();\n                let token  = localStorage.getItem(\"tokenAccess\");\n                let userId = jwt_decode(token).user_id.toString();\n\n                axios.get(\n                    `http://localhost:8000/user/${userId}/`,\n                    {headers: {'Authorization': `Bearer ${token}`}}\n                )\n                .then((result) => {\n                    this.loaded  = true;\n                    this.name    = result.data.name;\n                    this.email   = result.data.email;\n                    this.balance = result.data.account.balance;\n                })\n                .catch((error) => {\n                    this.$emit(\"logOut\");\n                })\n            },\n\n            verifyToken: async function(){\n                return axios.post(\n                        'http://localhost:8000/refresh/',\n                        {refresh: localStorage.getItem(\"tokenRefresh\")},\n                        {headers:{}}\n                    )\n                    .then((result) => {\n                        localStorage.setItem(\"tokenAccess\", result.data.access);\n                    })\n                    .catch((error) => {\n                        this.$emit(\"logOut\");\n                    })\n            }\n        },\n\n        created: async function(){\n            console.log(\"in\");\n            this.getData();\n        }\n    }\n</script>\n\n\n<style>\n    .information{\n        margin: 0;\n        padding: 0%;\n        width: 100%;\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .information h1{\n        font-size: 60px;\n        color: #0f1316;\n    }\n\n    .information h2{\n        font-size: 40px;\n        color: #283747;\n    }\n\n    .information span{\n        color: crimson;\n        font-weight: bold;\n    }\n</style>"]}]}