{"remainingRequest":"/home/casierrav/P8_Bank_Project/frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/casierrav/P8_Bank_Project/frontend/src/components/Account.vue?vue&type=template&id=6d0444a6","dependencies":[{"path":"/home/casierrav/P8_Bank_Project/frontend/src/components/Account.vue","mtime":1634776200817},{"path":"/home/casierrav/P8_Bank_Project/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/casierrav/P8_Bank_Project/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/casierrav/P8_Bank_Project/frontend/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1632349277000},{"path":"/home/casierrav/P8_Bank_Project/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/casierrav/P8_Bank_Project/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICA8ZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImluZm9ybWF0aW9uIiB2LWlmPSJsb2FkZWQiPgogICAgICAgICAgICA8aDE+SW5mb3JtYWNpw7NuIGRlIHByb2R1Y3RvczwvaDE+CiAgICAgICAgICAgIDxoMj5Ob21icmU6IDxzcGFuPnt7IG5hbWUgfX08L3NwYW4+PC9oMj4KICAgICAgICAgICAgPGgyPkVtYWlsOiAgPHNwYW4+e3sgZW1haWwgfX08L3NwYW4+PC9oMj4KICAgICAgICAgICAgPGgyPlNhbGRvOiAgPHNwYW4+e3sgYmFsYW5jZSB9fTwvc3Bhbj48L2gyPgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+Cg=="},{"version":3,"sources":["/home/casierrav/P8_Bank_Project/frontend/src/components/Account.vue"],"names":[],"mappings":";IACI,CAAC,CAAC,CAAC,CAAC;QACA,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAClC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAChC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACvC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACxC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9C,CAAC,CAAC,CAAC,CAAC,CAAC;IACT,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/home/casierrav/P8_Bank_Project/frontend/src/components/Account.vue","sourceRoot":"","sourcesContent":["<template>\n    <div>\n        <div class=\"information\" v-if=\"loaded\">\n            <h1>Informaci√≥n de productos</h1>\n            <h2>Nombre: <span>{{ name }}</span></h2>\n            <h2>Email:  <span>{{ email }}</span></h2>\n            <h2>Saldo:  <span>{{ balance }}</span></h2>\n        </div>\n    </div>\n</template>\n\n\n<script>\n    import axios      from 'axios';\n    import jwt_decode from 'jwt-decode';\n\n    export default{\n        name: \"Account\",\n\n        data: function(){\n            return {\n                loaded  : false,\n                name    : \"\",\n                email   : \"\",\n                balance : 0\n            }\n        },\n\n        methods:{\n            getData: async function(){\n                if(localStorage.getItem(\"tokenRefresh\") === null || localStorage.getItem(\"tokenAccess\") === null) {\n                    this.$emit(\"logOut\");\n                    return;\n                }\n\n                await this.verifyToken();\n                let token  = localStorage.getItem(\"tokenAccess\");\n                let userId = jwt_decode(token).user_id.toString();\n\n                axios.get(\n                    `http://localhost:8000/user/${userId}/`,\n                    {headers: {'Authorization': `Bearer ${token}`}}\n                )\n                .then((result) => {\n                    this.loaded  = true;\n                    this.name    = result.data.name;\n                    this.email   = result.data.email;\n                    this.balance = result.data.account.balance;\n                })\n                .catch((error) => {\n                    this.$emit(\"logOut\");\n                })\n            },\n\n            verifyToken: async function(){\n                return axios.post(\n                        'http://localhost:8000/refresh/',\n                        {refresh: localStorage.getItem(\"tokenRefresh\")},\n                        {headers:{}}\n                    )\n                    .then((result) => {\n                        localStorage.setItem(\"tokenAccess\", result.data.access);\n                    })\n                    .catch((error) => {\n                        this.$emit(\"logOut\");\n                    })\n            }\n        },\n\n        created: async function(){\n            console.log(\"in\");\n            this.getData();\n        }\n    }\n</script>\n\n\n<style>\n    .information{\n        margin: 0;\n        padding: 0%;\n        width: 100%;\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .information h1{\n        font-size: 60px;\n        color: #0f1316;\n    }\n\n    .information h2{\n        font-size: 40px;\n        color: #283747;\n    }\n\n    .information span{\n        color: crimson;\n        font-weight: bold;\n    }\n</style>"]}]}