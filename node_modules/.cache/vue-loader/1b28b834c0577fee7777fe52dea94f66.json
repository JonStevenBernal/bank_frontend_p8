{"remainingRequest":"/home/casierrav/P8_Bank_Project/frontend/bank_fe_example/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/casierrav/P8_Bank_Project/frontend/bank_fe_example/src/components/Account.vue?vue&type=template&id=6d0444a6","dependencies":[{"path":"/home/casierrav/P8_Bank_Project/frontend/bank_fe_example/src/components/Account.vue","mtime":1634739214811},{"path":"/home/casierrav/P8_Bank_Project/frontend/bank_fe_example/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/casierrav/P8_Bank_Project/frontend/bank_fe_example/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/casierrav/P8_Bank_Project/frontend/bank_fe_example/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1632349277000},{"path":"/home/casierrav/P8_Bank_Project/frontend/bank_fe_example/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/casierrav/P8_Bank_Project/frontend/bank_fe_example/node_modules/vue-loader-v16/dist/index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICA8ZGl2IHYtaWY9ImxvYWRlZCIgY2xhc3M9ImluZm9ybWF0aW9uIj4KICAgICAgICA8aDE+SW5mb3JtYWNpw7NuIGRlIHN1IGN1ZW50YTo8L2gxPgogICAgICAgIDxoMj5Ob21icmU6IDxzcGFuPiB7eyBuYW1lIH19IDwvc3Bhbj48L2gyPgogICAgICAgIDxoMj5TYWxkbzogPHNwYW4+IHt7IGJhbGFuY2UgfX0gPC9zcGFuPjwvaDI+CiAgICAgICAgPGgyPkNvcnJlbyBFbGVjdHLDs25pY286IDxzcGFuPiB7eyBlbWFpbCB9fSA8L3NwYW4+PC9oMj4KICAgIDwvZGl2Pgo="},{"version":3,"sources":["/home/casierrav/P8_Bank_Project/frontend/bank_fe_example/src/components/Account.vue"],"names":[],"mappings":";IACI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACjC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC1D,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/home/casierrav/P8_Bank_Project/frontend/bank_fe_example/src/components/Account.vue","sourceRoot":"","sourcesContent":["<template>\n    <div v-if=\"loaded\" class=\"information\">\n        <h1>Información de su cuenta:</h1>\n        <h2>Nombre: <span> {{ name }} </span></h2>\n        <h2>Saldo: <span> {{ balance }} </span></h2>\n        <h2>Correo Electrónico: <span> {{ email }} </span></h2>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: 'Account',\n\n        data: function(){\n            return {\n                loaded : false,\n                name: \"\",\n                balance: 0,\n                email : \"\"\n            }\n        },\n\n        methods: {\n            getData: async function() {\n                if(localStorage.getItem(\"token_access\") === null || localStorage.getItem(\"token_refresh\") === null){\n                    this.$emit(\"logOut\");\n                    return;\n                }\n                await this.verifyToken();\n                let token  = localStorage.getItem(\"token_access\");\n                let userId = jwt_decode(token).userId.toString();\n\n                axios.get(\n                    `http://localhost:8000/user/${userId}/`,\n                    {headers: {'Authorization': `Bearer ${token}`}}\n                )\n                .then((result) => {\n                    this.loaded = true;\n                    this.name = result.data.user.name;\n                    this.balance = result.data.balance;\n                    this.email = result.data.user.email;\n                })\n                .catch((error) => {\n                    this.$emit('logOut');\n                })\n            },\n\n            verifyToken: function(){\n                return axios.post(\n                    'http://localhost:8000/refresh/',\n                    {refresh:localStorage.getItem(\"token_refresh\")},\n                    {headers={}}\n                )\n                .then((result) => {\n                    localStorage.setItem(\"token_access\", result.data.access)\n                })\n                .catch((error) => {\n                    this.$emit('logOut');\n                });\n            }\n        },\n\n        created: async function(){\n            this.getData();\n        }\n    }\n</script>\n\n\n\n<style>\n.information{\nmargin: 0;\npadding: 0%;\nwidth: 100%;\nheight: 100%;\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\nalign-items: center;\n}\n\n.information h1{\nfont-size: 60px;\ncolor: #0f1316;\n}\n.information h2{\nfont-size: 40px;\ncolor: #283747;\n}\n.information span{\ncolor: crimson;\nfont-weight: bold;\n}\n</style>"]}]}