{"remainingRequest":"/home/casierrav/P8_Bank_Project/frontend/node_modules/babel-loader/lib/index.js!/home/casierrav/P8_Bank_Project/frontend/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/casierrav/P8_Bank_Project/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/casierrav/P8_Bank_Project/frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/casierrav/P8_Bank_Project/frontend/src/components/Account.vue?vue&type=template&id=6d0444a6","dependencies":[{"path":"/home/casierrav/P8_Bank_Project/frontend/src/components/Account.vue","mtime":1634776200817},{"path":"/home/casierrav/P8_Bank_Project/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/casierrav/P8_Bank_Project/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/casierrav/P8_Bank_Project/frontend/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1632349277000},{"path":"/home/casierrav/P8_Bank_Project/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/casierrav/P8_Bank_Project/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUgfSBmcm9tICJ2dWUiOwp2YXIgX2hvaXN0ZWRfMSA9IHsKICBrZXk6IDAsCiAgY2xhc3M6ICJpbmZvcm1hdGlvbiIKfTsKCnZhciBfaG9pc3RlZF8yID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImgxIiwgbnVsbCwgIkluZm9ybWFjacOzbiBkZSBwcm9kdWN0b3MiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfMyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCJOb21icmU6ICIpOwoKdmFyIF9ob2lzdGVkXzQgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgiRW1haWw6ICIpOwoKdmFyIF9ob2lzdGVkXzUgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgiU2FsZG86ICIpOwoKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBudWxsLCBbX2N0eC5sb2FkZWQgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2hvaXN0ZWRfMiwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDIiLCBudWxsLCBbX2hvaXN0ZWRfMywgX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoX2N0eC5uYW1lKSwgMQogIC8qIFRFWFQgKi8KICApXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImgyIiwgbnVsbCwgW19ob2lzdGVkXzQsIF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKF9jdHguZW1haWwpLCAxCiAgLyogVEVYVCAqLwogICldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDIiLCBudWxsLCBbX2hvaXN0ZWRfNSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoX2N0eC5iYWxhbmNlKSwgMQogIC8qIFRFWFQgKi8KICApXSldKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSldKTsKfQ=="},{"version":3,"sources":["/home/casierrav/P8_Bank_Project/frontend/src/components/Account.vue"],"names":[],"mappings":";;;;AAEa,EAAA,KAAK,EAAC;;;8BACP,mBAAA,CAAiC,IAAjC,EAAiC,IAAjC,EAAI,0BAAJ,EAA4B,CAAA;AAAA;AAA5B,C;;+CACI,U;;+CACA,S;;+CACA,S;;;uBALZ,mBAAA,CAOM,KAPN,EAOM,IAPN,EAOM,CAN6B,IAAA,CAAA,M,kBAA/B,mBAAA,CAKM,KALN,EAAA,UAAA,EAKM,CAJF,UAIE,EAHF,mBAAA,CAAwC,IAAxC,EAAwC,IAAxC,EAAwC,C,UAAA,EAA5B,mBAAA,CAAuB,MAAvB,EAAuB,IAAvB,EAAuB,gBAAA,CAAd,IAAA,CAAA,IAAc,CAAvB,EAAa;AAAA;AAAb,GAA4B,CAAxC,CAGE,EAFF,mBAAA,CAAyC,IAAzC,EAAyC,IAAzC,EAAyC,C,UAAA,EAA7B,mBAAA,CAAwB,MAAxB,EAAwB,IAAxB,EAAwB,gBAAA,CAAf,IAAA,CAAA,KAAe,CAAxB,EAAc;AAAA;AAAd,GAA6B,CAAzC,CAEE,EADF,mBAAA,CAA2C,IAA3C,EAA2C,IAA3C,EAA2C,C,UAAA,EAA/B,mBAAA,CAA0B,MAA1B,EAA0B,IAA1B,EAA0B,gBAAA,CAAjB,IAAA,CAAA,OAAiB,CAA1B,EAAgB;AAAA;AAAhB,GAA+B,CAA3C,CACE,CALN,C,qCAME,CAPN,C","sourcesContent":["<template>\n    <div>\n        <div class=\"information\" v-if=\"loaded\">\n            <h1>Informaci√≥n de productos</h1>\n            <h2>Nombre: <span>{{ name }}</span></h2>\n            <h2>Email:  <span>{{ email }}</span></h2>\n            <h2>Saldo:  <span>{{ balance }}</span></h2>\n        </div>\n    </div>\n</template>\n\n\n<script>\n    import axios      from 'axios';\n    import jwt_decode from 'jwt-decode';\n\n    export default{\n        name: \"Account\",\n\n        data: function(){\n            return {\n                loaded  : false,\n                name    : \"\",\n                email   : \"\",\n                balance : 0\n            }\n        },\n\n        methods:{\n            getData: async function(){\n                if(localStorage.getItem(\"tokenRefresh\") === null || localStorage.getItem(\"tokenAccess\") === null) {\n                    this.$emit(\"logOut\");\n                    return;\n                }\n\n                await this.verifyToken();\n                let token  = localStorage.getItem(\"tokenAccess\");\n                let userId = jwt_decode(token).user_id.toString();\n\n                axios.get(\n                    `http://localhost:8000/user/${userId}/`,\n                    {headers: {'Authorization': `Bearer ${token}`}}\n                )\n                .then((result) => {\n                    this.loaded  = true;\n                    this.name    = result.data.name;\n                    this.email   = result.data.email;\n                    this.balance = result.data.account.balance;\n                })\n                .catch((error) => {\n                    this.$emit(\"logOut\");\n                })\n            },\n\n            verifyToken: async function(){\n                return axios.post(\n                        'http://localhost:8000/refresh/',\n                        {refresh: localStorage.getItem(\"tokenRefresh\")},\n                        {headers:{}}\n                    )\n                    .then((result) => {\n                        localStorage.setItem(\"tokenAccess\", result.data.access);\n                    })\n                    .catch((error) => {\n                        this.$emit(\"logOut\");\n                    })\n            }\n        },\n\n        created: async function(){\n            console.log(\"in\");\n            this.getData();\n        }\n    }\n</script>\n\n\n<style>\n    .information{\n        margin: 0;\n        padding: 0%;\n        width: 100%;\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .information h1{\n        font-size: 60px;\n        color: #0f1316;\n    }\n\n    .information h2{\n        font-size: 40px;\n        color: #283747;\n    }\n\n    .information span{\n        color: crimson;\n        font-weight: bold;\n    }\n</style>"],"sourceRoot":""}]}