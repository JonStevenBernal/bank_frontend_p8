{"remainingRequest":"/home/casierrav/P8_Bank_Project/frontend/node_modules/babel-loader/lib/index.js!/home/casierrav/P8_Bank_Project/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/casierrav/P8_Bank_Project/frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/casierrav/P8_Bank_Project/frontend/src/components/Account.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/casierrav/P8_Bank_Project/frontend/src/components/Account.vue","mtime":1634776200817},{"path":"/home/casierrav/P8_Bank_Project/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/casierrav/P8_Bank_Project/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/casierrav/P8_Bank_Project/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/casierrav/P8_Bank_Project/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2Nhc2llcnJhdi9QOF9CYW5rX1Byb2plY3QvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBqd3RfZGVjb2RlIGZyb20gJ2p3dC1kZWNvZGUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFjY291bnQiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkZWQ6IGZhbHNlLAogICAgICBuYW1lOiAiIiwKICAgICAgZW1haWw6ICIiLAogICAgICBiYWxhbmNlOiAwCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RGF0YTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldERhdGEgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgdmFyIHRva2VuLCB1c2VySWQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEobG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuUmVmcmVzaCIpID09PSBudWxsIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbkFjY2VzcyIpID09PSBudWxsKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgibG9nT3V0Iik7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52ZXJpZnlUb2tlbigpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbkFjY2VzcyIpOwogICAgICAgICAgICAgICAgdXNlcklkID0gand0X2RlY29kZSh0b2tlbikudXNlcl9pZC50b1N0cmluZygpOwogICAgICAgICAgICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjgwMDAvdXNlci8iLmNvbmNhdCh1c2VySWQsICIvIiksIHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogIkJlYXJlciAiLmNvbmNhdCh0b2tlbikKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmxvYWRlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgIF90aGlzLm5hbWUgPSByZXN1bHQuZGF0YS5uYW1lOwogICAgICAgICAgICAgICAgICBfdGhpcy5lbWFpbCA9IHJlc3VsdC5kYXRhLmVtYWlsOwogICAgICAgICAgICAgICAgICBfdGhpcy5iYWxhbmNlID0gcmVzdWx0LmRhdGEuYWNjb3VudC5iYWxhbmNlOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRlbWl0KCJsb2dPdXQiKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0RGF0YSgpIHsKICAgICAgICByZXR1cm4gX2dldERhdGEuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldERhdGE7CiAgICB9KCksCiAgICB2ZXJpZnlUb2tlbjogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3ZlcmlmeVRva2VuID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjgwMDAvcmVmcmVzaC8nLCB7CiAgICAgICAgICAgICAgICAgIHJlZnJlc2g6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlblJlZnJlc2giKQogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7fQogICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbkFjY2VzcyIsIHJlc3VsdC5kYXRhLmFjY2Vzcyk7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRlbWl0KCJsb2dPdXQiKTsKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gdmVyaWZ5VG9rZW4oKSB7CiAgICAgICAgcmV0dXJuIF92ZXJpZnlUb2tlbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gdmVyaWZ5VG9rZW47CiAgICB9KCkKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfY3JlYXRlZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29uc29sZS5sb2coImluIik7CiAgICAgICAgICAgICAgdGhpcy5nZXREYXRhKCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMywgdGhpcyk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgICAgcmV0dXJuIF9jcmVhdGVkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIGNyZWF0ZWQ7CiAgfSgpCn07"},{"version":3,"sources":["/home/casierrav/P8_Bank_Project/frontend/src/components/Account.vue"],"names":[],"mappings":";;;;;AAaI,OAAO,KAAP,MAAuB,OAAvB;AACA,OAAO,UAAP,MAAuB,YAAvB;AAEA,eAAc;AACV,EAAA,IAAI,EAAE,SADI;AAGV,EAAA,IAAI,EAAE,gBAAU;AACZ,WAAO;AACH,MAAA,MAAK,EAAK,KADP;AAEH,MAAA,IAAG,EAAO,EAFP;AAGH,MAAA,KAAI,EAAM,EAHP;AAIH,MAAA,OAAM,EAAI;AAJP,KAAP;AAMH,GAVS;AAYV,EAAA,OAAO,EAAC;AACJ,IAAA,OAAO;AAAA,6EAAE;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACF,YAAY,CAAC,OAAb,CAAqB,cAArB,MAAyC,IAAzC,IAAiD,YAAY,CAAC,OAAb,CAAqB,aAArB,MAAwC,IADvF;AAAA;AAAA;AAAA;;AAED,qBAAK,KAAL,CAAW,QAAX;AAFC;;AAAA;AAAA;AAAA,uBAMC,KAAK,WAAL,EAND;;AAAA;AAOD,gBAAA,KAPC,GAOQ,YAAY,CAAC,OAAb,CAAqB,aAArB,CAPR;AAQD,gBAAA,MARC,GAQQ,UAAU,CAAC,KAAD,CAAV,CAAkB,OAAlB,CAA0B,QAA1B,EARR;AAUL,gBAAA,KAAK,CAAC,GAAN,sCACkC,MADlC,QAEI;AAAC,kBAAA,OAAO,EAAE;AAAC,sDAA2B,KAA3B;AAAD;AAAV,iBAFJ,EAIC,IAJD,CAIM,UAAC,MAAD,EAAY;AACd,kBAAA,KAAI,CAAC,MAAL,GAAe,IAAf;AACA,kBAAA,KAAI,CAAC,IAAL,GAAe,MAAM,CAAC,IAAP,CAAY,IAA3B;AACA,kBAAA,KAAI,CAAC,KAAL,GAAe,MAAM,CAAC,IAAP,CAAY,KAA3B;AACA,kBAAA,KAAI,CAAC,OAAL,GAAe,MAAM,CAAC,IAAP,CAAY,OAAZ,CAAoB,OAAnC;AACH,iBATD,EAUC,KAVD,CAUO,UAAC,KAAD,EAAW;AACd,kBAAA,KAAI,CAAC,KAAL,CAAW,QAAX;AACH,iBAZD;;AAVK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OADH;AA0BJ,IAAA,WAAW;AAAA,iFAAE;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,kDACF,KAAK,CAAC,IAAN,CACC,gCADD,EAEC;AAAC,kBAAA,OAAO,EAAE,YAAY,CAAC,OAAb,CAAqB,cAArB;AAAV,iBAFD,EAGC;AAAC,kBAAA,OAAO,EAAC;AAAT,iBAHD,EAKF,IALE,CAKG,UAAC,MAAD,EAAY;AACd,kBAAA,YAAY,CAAC,OAAb,CAAqB,aAArB,EAAoC,MAAM,CAAC,IAAP,CAAY,MAAhD;AACH,iBAPE,EAQF,KARE,CAQI,UAAC,KAAD,EAAW;AACd,kBAAA,MAAI,CAAC,KAAL,CAAW,QAAX;AACH,iBAVE,CADE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AA1BP,GAZE;AAqDV,EAAA,OAAO;AAAA,2EAAE;AAAA;AAAA;AAAA;AAAA;AACL,cAAA,OAAO,CAAC,GAAR,CAAY,IAAZ;AACA,mBAAK,OAAL;;AAFK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AArDG,CAAd","sourcesContent":["<template>\n    <div>\n        <div class=\"information\" v-if=\"loaded\">\n            <h1>Informaci√≥n de productos</h1>\n            <h2>Nombre: <span>{{ name }}</span></h2>\n            <h2>Email:  <span>{{ email }}</span></h2>\n            <h2>Saldo:  <span>{{ balance }}</span></h2>\n        </div>\n    </div>\n</template>\n\n\n<script>\n    import axios      from 'axios';\n    import jwt_decode from 'jwt-decode';\n\n    export default{\n        name: \"Account\",\n\n        data: function(){\n            return {\n                loaded  : false,\n                name    : \"\",\n                email   : \"\",\n                balance : 0\n            }\n        },\n\n        methods:{\n            getData: async function(){\n                if(localStorage.getItem(\"tokenRefresh\") === null || localStorage.getItem(\"tokenAccess\") === null) {\n                    this.$emit(\"logOut\");\n                    return;\n                }\n\n                await this.verifyToken();\n                let token  = localStorage.getItem(\"tokenAccess\");\n                let userId = jwt_decode(token).user_id.toString();\n\n                axios.get(\n                    `http://localhost:8000/user/${userId}/`,\n                    {headers: {'Authorization': `Bearer ${token}`}}\n                )\n                .then((result) => {\n                    this.loaded  = true;\n                    this.name    = result.data.name;\n                    this.email   = result.data.email;\n                    this.balance = result.data.account.balance;\n                })\n                .catch((error) => {\n                    this.$emit(\"logOut\");\n                })\n            },\n\n            verifyToken: async function(){\n                return axios.post(\n                        'http://localhost:8000/refresh/',\n                        {refresh: localStorage.getItem(\"tokenRefresh\")},\n                        {headers:{}}\n                    )\n                    .then((result) => {\n                        localStorage.setItem(\"tokenAccess\", result.data.access);\n                    })\n                    .catch((error) => {\n                        this.$emit(\"logOut\");\n                    })\n            }\n        },\n\n        created: async function(){\n            console.log(\"in\");\n            this.getData();\n        }\n    }\n</script>\n\n\n<style>\n    .information{\n        margin: 0;\n        padding: 0%;\n        width: 100%;\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .information h1{\n        font-size: 60px;\n        color: #0f1316;\n    }\n\n    .information h2{\n        font-size: 40px;\n        color: #283747;\n    }\n\n    .information span{\n        color: crimson;\n        font-weight: bold;\n    }\n</style>"],"sourceRoot":""}]}